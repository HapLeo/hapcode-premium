package @{content.packageName};

<% for(import in content.imports!){ %>
import @{import};
<% } %>

/**
 * @author @{content.author!}
 * @desc @{content.table.comment!}
 * @date @{date(),"yyyy-MM-dd"}
 */
@Slf4j
@Api(tags="@{content.table.comment!}")
@RestController
@RequestMapping("@{content.controllerPath}")
public class @{content.modelName}Controller {


    @Autowired
    private @{content.modelName}Service service;


    /**
     * 新增
     *
     * @param addDto
     * @return
     */
    @ApiOperation("新增")
    @PostMapping("/add")
    public Result add(@RequestBody @Valid @{content.modelName}AddDTO addDto) {

        service.add(addDto);
        return Result.success();
    }

    /**
     * 编辑
     *
     * @param updateDTO
     * @return
     */
    @ApiOperation("编辑")
    @PostMapping("/update")
    public Result update(@RequestBody @Valid @{content.modelName}UpdateDTO updateDTO) {

        service.update(updateDTO);
        return Result.success();
    }

    /**
     * 删除
     *
     * @param id
     * @return
     */
    @ApiOperation("删除")
    @PostMapping("/delete")
    public Result delete(@RequestParam Long id) {

        service.updateById(new @{content.modelName}().setId(id).setDel(1));
        return Result.success();
    }



    /**
     * 详情
     *
     * @param id
     * @return
     */
    @ApiOperation("详情")
    @GetMapping("/detail")
    public Result<@{content.modelName}VO> detail(@RequestParam Long id) {

        return Result.successWithData(MyBeanUtils.copyBean(service.detail(id), @{content.modelName}VO.class));
    }

    /**
     * 查询列表
     * @param pageQuery
     * @return
     */
    @ApiOperation("查询列表")
    @GetMapping("/list")
    public Result<Pagin<@{content.modelName}VO>> list(@{content.modelName}PageQuery pageQuery) {

        return Result.successWithData(service.list(pageQuery));
    }









}
